2021-07-08 18:47:31,386 ERROR: Exception on /set_bookings [POST] [in /hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask/app.py:1891]
Traceback (most recent call last):
  File "/hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask_login/utils.py", line 272, in decorated_view
    return func(*args, **kwargs)
  File "/hdd/code/eastbournecottage/app/routes.py", line 624, in set_bookings
    multi_week_discount = Decimal(booking['multiWeekDiscount']),
KeyError: 'multiWeekDiscount'
2021-07-08 18:52:54,090 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-08 18:52:54,185 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-08 18:52:54,245 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-08 18:52:54,335 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-08 18:53:26,509 ERROR: Exception on /set_bookings [POST] [in /hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask/app.py:1891]
Traceback (most recent call last):
  File "/hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask_login/utils.py", line 272, in decorated_view
    return func(*args, **kwargs)
  File "/hdd/code/eastbournecottage/app/routes.py", line 618, in set_bookings
    customer_id = customer_id,
UnboundLocalError: local variable 'customer_id' referenced before assignment
2021-07-08 18:56:36,026 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-08 18:56:36,064 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-08 18:56:36,092 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-08 18:56:36,114 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-08 18:58:52,777 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-08 18:58:52,799 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-08 18:58:52,835 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-08 18:58:52,863 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-08 18:59:23,670 ERROR: Exception on /set_bookings [POST] [in /hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask/app.py:1891]
Traceback (most recent call last):
  File "/hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/hdd/code/eastbournecottage/venv/lib/python3.8/site-packages/flask_login/utils.py", line 272, in decorated_view
    return func(*args, **kwargs)
  File "/hdd/code/eastbournecottage/app/routes.py", line 601, in set_bookings
    Booking.multi_week_discount: Decimal(booking['multi_week_discount']),
KeyError: 'multi_week_discount'
2021-07-08 19:01:15,905 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-08 19:01:15,971 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-08 19:01:16,051 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-08 19:01:16,105 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-08 23:27:04,986 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-08 23:27:05,002 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-08 23:27:05,108 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-08 23:27:05,170 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:05:49,257 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:05:49,259 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:05:49,272 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:05:49,272 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:07:19,866 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:07:19,957 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:07:19,996 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:07:20,059 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:07:30,524 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:07:30,562 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:07:30,653 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:07:30,746 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:13:43,408 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:13:43,492 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:13:43,567 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:13:43,595 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:15:10,729 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:15:10,766 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:15:10,846 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:15:10,903 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:16:40,154 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:16:40,227 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:16:40,307 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:16:40,320 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:27:12,011 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:27:12,013 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:27:12,059 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:27:12,099 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:28:13,092 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:28:13,197 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:28:13,260 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:28:13,293 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:30:40,540 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:30:40,642 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:30:40,732 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:30:40,774 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:32:57,898 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
2021-07-09 09:32:57,943 INFO: eastbourne startup [in /hdd/code/eastbournecottage/app/__init__.py:31]
